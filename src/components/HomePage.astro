---
// Component Script (JavaScript)
// HomePage
// import firstImage from '../images/tuberculosis.jpg';
import { Markdown } from 'astro/components';
const {lang} = Astro.props;
const data = Astro.fetchContent('../content/featured/*.md');

// this filters per language and per undefined
let featured = data.filter(d => (d.lang.localeCompare(lang) == 0));
featured.sort( (a,b) => {
  if ( a.id < b.id ){
    return -1;
  }
  else if ( a.id > b.id ){
    return 1;
  }
  return 0;
});

// console.log(data);
---
<div class="grid gap-x-8 grid-cols-12">
    <img src={featured[0].image} alt="first" class="w-full col-span-12 lg:col-span-9">
    <div class="mt-4 col-span-12 lg:col-span-3 lg:mt-0">
        <a href={featured[0].link}>
            <h2 class="text-un-menu-dark font-bold font-titles text-2xl mb-5 pb-3 border-b-[3px] border-un-blue">{featured[0].title}</h2>
        </a>
        <Markdown content={featured[0].content.source} />
    </div>
</div>